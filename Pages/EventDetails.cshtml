@page
@model MetaX.Pages.EventDetailsModel
@inject MetaX.Pages.LoginModel Login
@{
}

<main id="main">
    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
        <div class="container" data-aos="fade-up">
            <div class="position-relative h-100">
                <img src="@Model.Event.Image" style="width: 100%; height: 500px; object-fit: cover;" />
            </div>

            <div class="row justify-content-between gy-4 mt-4">
                <div class="col-lg-8">
                    <div class="portfolio-description">
                        <h2>@Model.Event.Title</h2>
                        <p>@Model.Event.Description</p>
                    </div>
                </div>

                <div class="col-lg-3">
                    <div class="portfolio-info">
                        <h3>Etkinlik Detayları</h3>
                        <ul>
                            <li>
                                <strong>KATEGORİ</strong>
                                <span>@Model.Event.Category</span>
                            </li>
                            <li>
                                <strong>LOKASYON</strong>
                                <span>@Model.Event.Location</span>
                            </li>
                            <li>
                                <strong>TARİH</strong>
                                <span>@Model.Event.Date.ToString("dd-MM-yyyy")</span>
                            </li>
                            <li>
                                <strong>BİLET FİYATI</strong>
                                <span>₺ @Model.Event.Price.ToString("F2")</span>
                            </li>
                            @if (Login.IsUserLoggedIn())
                            {
                                <li>
                                    <a href="/Payment?eventId=@Model.Event.EventID" class="btn-visit align-self-start">Bilet Al</a>
                                </li>

                                <li class="mt-3">
                                    <h3>Yorum Yap</h3>
                                    <form method="post">
                                        <div class="form-group">
                                            <label class="mb-1" for="rating">Kaç Yıldız</label>
                                            <select class="form-control" id="rating" name="Rating">
                                                <option value="1">☆</option>
                                                <option value="2">☆☆</option>
                                                <option value="3">☆☆☆</option>
                                                <option value="4">☆☆☆☆</option>
                                                <option value="5">☆☆☆☆☆</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label class="mb-1 mt-2" for="comment">Yorum</label>
                                            <textarea class="form-control" id="comment" name="Comment" rows="3"></textarea>
                                        </div>
                                        <button type="submit" class="btn btn-primary mt-2">Gönder</button>
                                    </form>
                                </li>
                            }
                            else
                            {
                                <li>
                                    <a href="/Login" class="btn btn-danger align-self-start">Bilet almak için giriş yapınız</a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End Portfolio Details Section -->
</main>
<!-- End #main -->
